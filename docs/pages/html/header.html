<!DOCTYPE html>
<html lang="de">
<head>
    <link href="../styles/styles.css" rel="stylesheet">
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Header</title>
</head>
<body>
<header class="main-header">
    <div class="header-content">
        <a href="https://github.com/iavofficial/IAVFrontendFramework" target="_blank">
            <img alt="GitHub" height="32" src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" width="32">
        </a>
        <span class="header-title">IAV Frontend Framework</span>
        <div class="version-dropdown">
            <label>
                <select class="header-version" id="versionDropdown">
                </select>
            </label>
        </div>
    </div>
</header>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        fetch('../version-list.md')
            .then(response => response.text())
            .then(data => {
                const versions = data.split('\n').filter(Boolean);
                const dropdown = document.getElementById('versionDropdown');
                console.log(versions);
                const currentVersion = window.location.pathname.split('/')[window.location.pathname.split('/').length - 2];
                console.log(currentVersion);
                versions.forEach(version => {
                    const option = document.createElement('option');
                    option.value = version;
                    option.textContent = version;
                    console.log(option);
                    if (version === currentVersion) {
                        option.selected = true;
                    }
                    console.log(dropdown);
                    dropdown.appendChild(option);
                });
            })
            .catch(error => {
                console.error('Fehler beim Laden der Versionen:', error);
            });
    });
</script>
</body>
</html>